<!DOCTYPE html>
<html>
    <head>
        <title>Teste1</title>
		<style>
		.grande{
		font-size: 20px;
		}
		#form{
		text-align: center;
		}
		</style>
    </head>
    <body style="background:#aaaaaa;">

        <canvas id="tela">Sem suporte ao HTML5</canvas>

        <script>
            var canvas = document.getElementById("tela");
            var tela = canvas.getContext("2d");
			var xTela = 300;
			var yTela = 180;
			var fps = 60;
			var velX = 3;
			var velY = 5;
			canvas.width = xTela;
			canvas.height = yTela;
			centralizaTela(xTela, yTela);

			
			var game = window.setInterval('gameLoop()',(1000/fps))
			
			var quad = {
			'x': 0,
			'y': 0			
			};
			
			var xpos = 300;
			var ypos = 200;
			
			var desce = true;
			var direita = true;
			function gameLoop(){
				limpaTela();
				
				
				desenhaQuadrado(quad.x, quad.y);
				
				if(direita){xpos=xpos+velX;}
				else{xpos=xpos-velX;}
				
				if(desce){ypos=ypos+velY;}
				else{ypos=ypos-velY;}	
					
				if(xpos>(xTela - 21)){direita = false;}
				if(xpos<(1)){direita = true;}
				
				if(ypos>(yTela - 21)){desce = false;}
				if(ypos<(1)){desce = true;}	
					
				quad.x = xpos;
				quad.y = ypos;

			
			}
			function desenhaQuadrado(x, y){
				tela.fillStyle = "rgb(0,0,150)";
				tela.fillRect(x, y, 20, 20);			
			
			}	
            function limpaTela(){
				tela.fillStyle = "rgb(0,255,0)";
				tela.fillRect(0, 0, xTela, yTela);
			}			
			
			function centralizaTela(xTela, yTela){
				var margemLeft = "-" + xTela/2 + "px";
				var margemTop = "-" + yTela + "px";
				canvas.style.marginLeft = margemLeft;
				canvas.style.marginTop = margemTop;
				canvas.style.position = "absolute";
				canvas.style.left = "50%";
				canvas.style.top = "100%";
				canvas.style.border = "5px solid #d0d0d0";				
			}
			
			function mudaVelX(novaVel){
			velX = velX + novaVel;
			if(velX < 0){velX = 0;}
			}
			function mudaVelY(novaVel){
			velY = velY+novaVel;
			if(velY < 0){velY = 0;}
			}
		</script>
		<form id="form">
		Horizontal:
		<input type="button" onclick="mudaVelX(1)" value="+" class="grande"></input>
		<input type="button" onclick="mudaVelX(-1)" value="-" class="grande"></input>
		Vertical:
		<input type="button" onclick="mudaVelY(1)" value="+" class="grande"></input>
		<input type="button" onclick="mudaVelY(-1)" value="-" class="grande"></input>
		</form>
	</body>
</html>	
			